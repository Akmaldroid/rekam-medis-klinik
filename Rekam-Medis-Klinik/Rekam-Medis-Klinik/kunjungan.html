<!DOCTYPE html>
    <html lang="id">
    <head>
        <meta charset="UTF-8">
        <title>Kunjungan Pasien</title>
        <link rel="stylesheet" href="assets/css/kunjungan.css">
    </head>

    <body>

        <h2>
            <img src="assets/image/kunjungan.png" alt="Kunjungan Icon">Form Kunjungan</h2>

        <button onclick="window.location.href='dashboard.html'">
            <img src="assets/image/kembali.png" alt="Home Icon">Kembali ke Dashboard</button><br><br>

        <form id="formKunjungan">

            <!-- ðŸ”¥ AUTOCOMPLETE PASIEN -->
            <label>Pasien</label><br>
            <input type="text" id="searchPasien" placeholder="Ketik nama pasien..." autocomplete="off">
            <div id="autocompleteList" class="autocomplete-list"></div>

            <!-- Hidden: menyimpan ID pasien -->
            <input type="hidden" id="id_pasien">

            <br><br>

            <label>Dokter</label>
            <select id="id_dokter"></select>

            <br><br>

            <label>Poli</label>
            <select id="id_poli"></select>

            <br><br>

            <label>Tanggal Kunjungan</label>
            <input type="date" id="tanggal_kunjungan">

            <br><br>

            <label>Keluhan</label>
            <textarea id="keluhan"></textarea>

            <br><br>

            <button id="submitBtn" type="submit">Simpan</button>
        </form>

        <h3>Daftar Kunjungan</h3>
        <table border="1">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Pasien</th>
                    <th>Tanggal</th>
                    <th>Poli</th>
                    <th>Keluhan</th>
                    <th>Aksi</th>
                </tr>
            </thead>
            <tbody id="tabelKunjungan"></tbody>
        </table>

        <!-- PAGINATION CONTROL -->
        <div class="pagination-control">
            <label>Tampilkan:</label>
            <select id="perPageSelect">
                <option value="10">10</option>
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
            <span>data per halaman</span>
        </div>
        <!-- PAGINATION BUTTONS -->
        <div class="pagination-buttons">
            <button id="prevBtn">Sebelumnya</button>
            <span id="pageInfo"></span>
            <button id="nextBtn">Berikutnya</button>
        </div>

        <footer>
            <p>2025 Sistem Informasi Klinik. All rights reserved.</p>
        </footer>

        <script type="module" src="assets/js/supabase.js"></script>
        <script type="module" src="assets/js/kunjungan.js"></script>

    </body>
</html>
